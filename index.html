<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPA Fraud Prevention Analyzer | Advanced Real-Time Detection</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/fingerprintjs2@2.1.4/dist/fingerprint2.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="glass-card">
            <div class="logo-container">
                <img src="assets/logo.svg" alt="https://imgur.com/a/rinEsLi" class="logo">
                <h1>CPA Team Work Analyzer</h1>
            </div>
            <p class="subtitle">Advanced real time detection of fraud signals used by CPA networks</p>
        </header>

        <div class="dashboard">
            <div class="control-panel glass-card">
                <button id="runTestBtn" class="btn-primary">
                    <i class="fas fa-play"></i> Run Full Analysis
                </button>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                    <span id="progressText">0% Complete</span>
                </div>
                <div class="email-check">
                    <input type="text" id="emailInput" placeholder="Verify email domain (optional)">
                    <button id="checkEmailBtn" class="btn-secondary">
                        <i class="fas fa-envelope"></i> Check
                    </button>
                </div>
            </div>

            <div class="results-grid">
                <!-- Device Fingerprint Section -->
                <div class="result-section glass-card">
                    <h2><i class="fas fa-fingerprint"></i> Device Fingerprint</h2>
                    <div class="result-item">
                        <span class="label">Browser Fingerprint:</span>
                        <span class="value" id="fingerprintHash">-</span>
                        <span class="status-badge" id="fingerprintStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Canvas Fingerprint:</span>
                        <span class="value" id="canvasFingerprint">-</span>
                        <span class="status-badge" id="canvasStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">WebGL Fingerprint:</span>
                        <span class="value" id="webglFingerprint">-</span>
                        <span class="status-badge" id="webglStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Audio Context:</span>
                        <span class="value" id="audioFingerprint">-</span>
                        <span class="status-badge" id="audioStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Device Memory:</span>
                        <span class="value" id="deviceMemory">-</span>
                        <span class="status-badge" id="memoryStatus"></span>
                    </div>
                </div>

                <!-- Network & Location Section -->
                <div class="result-section glass-card">
                    <h2><i class="fas fa-network-wired"></i> Network & Location</h2>
                    <div class="result-item">
                        <span class="label">IP Address:</span>
                        <span class="value" id="ipAddress">-</span>
                        <span class="status-badge" id="ipStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Location:</span>
                        <span class="value" id="location">-</span>
                        <span class="status-badge" id="locationStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">ISP/ASN:</span>
                        <span class="value" id="isp">-</span>
                        <span class="status-badge" id="ispStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">VPN/Proxy/Tor:</span>
                        <span class="value" id="proxyDetection">-</span>
                        <span class="status-badge" id="proxyStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">DNS Leaks:</span>
                        <span class="value" id="dnsLeak">-</span>
                        <span class="status-badge" id="dnsStatus"></span>
                    </div>
                </div>

                <!-- Behavior Analysis Section -->
                <div class="result-section glass-card">
                    <h2><i class="fas fa-robot"></i> Behavior Analysis</h2>
                    <div class="result-item">
                        <span class="label">Mouse Movements:</span>
                        <span class="value" id="mousePattern">-</span>
                        <span class="status-badge" id="mouseStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Scroll Behavior:</span>
                        <span class="value" id="scrollPattern">-</span>
                        <span class="status-badge" id="scrollStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Time Analysis:</span>
                        <span class="value" id="timePattern">-</span>
                        <span class="status-badge" id="timeStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Browser Language:</span>
                        <span class="value" id="browserLanguage">-</span>
                        <span class="status-badge" id="languageStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Timezone:</span>
                        <span class="value" id="timezone">-</span>
                        <span class="status-badge" id="timezoneStatus"></span>
                    </div>
                </div>

                <!-- Email Analysis Section -->
                <div class="result-section glass-card">
                    <h2><i class="fas fa-envelope"></i> Email Analysis</h2>
                    <div class="result-item">
                        <span class="label">Email Domain:</span>
                        <span class="value" id="emailDomain">-</span>
                        <span class="status-badge" id="domainStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">MX Records:</span>
                        <span class="value" id="mxRecords">-</span>
                        <span class="status-badge" id="mxStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Disposable:</span>
                        <span class="value" id="disposableEmail">-</span>
                        <span class="status-badge" id="disposableStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">SMTP Check:</span>
                        <span class="value" id="smtpCheck">-</span>
                        <span class="status-badge" id="smtpStatus"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Overall Risk:</span>
                        <span class="value" id="emailRisk">-</span>
                        <span class="status-badge" id="emailRiskStatus"></span>
                    </div>
                </div>
            </div>

            <!-- Final Verdict -->
            <div class="verdict-container glass-card">
                <h2><i class="fas fa-gavel"></i> Final Verdict</h2>
                <div class="verdict-content">
                    <div class="verdict-icon" id="verdictIcon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="verdict-text">
                        <h3 id="verdictTitle">Analysis Not Run</h3>
                        <p id="verdictDescription">Run the full analysis to get a comprehensive fraud risk assessment.</p>
                    </div>
                    <div class="risk-score">
                        <div class="score-circle" id="riskScoreCircle">
                            <span id="riskScore">0</span>
                        </div>
                        <span class="score-label">Risk Score</span>
                    </div>
                </div>
                <div class="detailed-findings" id="detailedFindings">
                    <!-- Detailed findings will be inserted here -->
                </div>
            </div>
        </div>

        <!-- DNS Leak Test Iframe (hidden) -->
        <iframe id="dnsLeakTestFrame" style="display: none;" src="about:blank"></iframe>
    </div>

    <script src="main.js"></script>
</body>
</html>